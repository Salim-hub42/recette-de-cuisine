{% extends 'base.html.twig' %}

{% block title %}Toutes les recettes{% endblock %}


{% block body %}

<h1>Toutes les recettes</h1>
<p>Voici la liste de toutes les recettes disponibles :</p>


<p>
 <a class="btn btn-primary" href="{{ path('recipe.creat') }}">Créer une nouvelle recette</a>
</p>
<table class="table">
<thead>
    <tr>
        <th>Title</th>
        <th>Actions</th>
    </tr>
</thead>
<tbody>
{% for recipe in recipes %}
    <tr>
        <td>
           <a href="{{ path('recipe.show', {id:recipe.id, slug:recipe.slug}) }}">{{ recipe.title }}</a>
        </td>
        <td>
   <div class="d-flex gap-2">
           <a class="btn btn-primary" href="{{ path('recipe.edit', {id:recipe.id}) }}">éditer</a>
              <form method="post" action="{{ path('recipe.delete', {id:recipe.id}) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cette recette ?');">
                 <input type="hidden" name="_method" value="DELETE">
                 <button class="btn btn-danger ">supprimer</button>
              </form>
    </div>
        </td>
    </tr>
{% endfor %}
</tbody>
</table>
{% endblock %}
    
